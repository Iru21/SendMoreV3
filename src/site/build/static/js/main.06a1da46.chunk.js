(this["webpackJsonpsendmore-site"]=this["webpackJsonpsendmore-site"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),i=n.n(c),o=(n(29),n(3)),s=n.n(o),l=n(6),p=n(4),u=(n(31),n.p+"static/media/favicon.5bd7feb9.png"),d=n(24),b=(n(34),n(1));function j(e,t){var n="";switch(e){case"SUCCESS":n="lightgreen";break;case"ERROR":n="crimson"}var a={textDecoration:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",margin:0,padding:0},r={color:"white",backgroundColor:"#4e535e",borderRadius:"30px",borderColor:n,borderStyle:"solid",borderWidth:"1px",padding:"17px",marginRight:"35px",marginBottom:"25px",fontSize:"20px",display:"inline-block",whiteSpace:"nowrap"};d.a.notify((function(e){var n=e.onClose;return Object(b.jsx)("button",{style:a,onClick:n,children:Object(b.jsx)("div",{style:r,children:t})})}),{position:"bottom-right"})}function h(e,t){for(var n=[],a=[],r=function(r){var c,i=new FileReader,o=e.item(r);o.size>1e6*t?(j("ERROR","File ".concat(null===(c=e.item(r))||void 0===c?void 0:c.name," exceeds the ").concat(t,"mb size limit!")),a.push(r)):(i.readAsDataURL(o),i.addEventListener("load",(function(){var e,t=null===(e=i.result)||void 0===e?void 0:e.toString().replace(/^data:image\/(png|jpg|gif|jpeg);base64,/,"");t&&n.push(t)})))},c=0;c<e.length;c++)r(c);return[n,a]}var x=n(23),m=n.n(x);function f(e,t){for(var n=[],a=0;a<e.length;a++)if(!t.includes(a)){var r,c=null===(r=e.item(a))||void 0===r?void 0:r.name;n.push(m.a.extname(c).replace(".",""))}return n}var v=n(7),O=n.n(v);function g(e){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",!1);case 2:return n={data:!1},e.prev=3,e.next=6,O.a.post("http://".concat("89.64.103.152",":19713/validate"),{},{headers:{Authorization:"key "+t,"Content-Type":"application/json",Accept:"application/json"},timeout:1e3});case 6:n=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),e.next=13,O.a.post("http://".concat("192.168.0.136",":19713/validate"),{},{headers:{Authorization:"key "+t,"Content-Type":"application/json",Accept:"application/json"},timeout:1e3});case 13:n=e.sent;case 14:return e.abrupt("return",n.data);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var C=n(13);function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("http://".concat("89.64.103.152",":19713/send"),{hashes:t,exts:n},{headers:{Authorization:"key "+localStorage.getItem("DS-api-key-wwx"),"Content-Type":"application/json",Accept:"application/json"},timeout:1e3});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,O.a.post("http://".concat("192.168.0.136",":19713/send"),{hashes:t,exts:n},{headers:{Authorization:"key "+localStorage.getItem("DS-api-key-wwx"),"Content-Type":"application/json",Accept:"application/json"},timeout:1e3});case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_L:"192.168.0.136",REACT_APP_API_P:"89.64.103.152"}));var R=function(){var e=Object(a.useState)(),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),i=Object(p.a)(c,2),o=i[0],d=i[1],x=Object(a.useState)(""),m=Object(p.a)(x,2),v=m[0],O=m[1],S=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,c,i,o,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",j("ERROR","No files selected!"));case 2:if(!((a=n).length>30)){e.next=5;break}return e.abrupt("return",j("ERROR","File limit exceeded! (Max 30)"));case 5:return r=h(a,8),c=Object(p.a)(r,2),i=c[0],o=c[1],l=f(a,o),u=localStorage.getItem("DS-api-key-wwx"),e.next=10,g(u);case 10:if(e.sent){e.next=21;break}return j("ERROR","No valid API key found in storage! Checking input..."),e.next=15,g(Object(C.sha256)(v));case 15:if(e.sent){e.next=18;break}return e.abrupt("return",j("ERROR","Invalid API key provided!"));case 18:return localStorage.setItem("DS-api-key-wwx",Object(C.sha256)(v)),j("SUCCESS","Sent!"),e.abrupt("return",y(i,l));case 21:return j("SUCCESS","Sent!"),e.abrupt("return",y(i,l));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("img",{src:u,id:"hl",alt:"Logo"}),Object(b.jsx)("p",{children:"Send More"})]}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"pickerWrapper",children:[Object(b.jsx)("button",{type:"button",className:"clearFileInput",onClick:function(e){o>0&&(r(void 0),d(0),j("SUCCESS","Cleared selection!"))},children:"x"}),Object(b.jsx)("label",{className:"pickerButton",htmlFor:"upload",children:"Upload"}),Object(b.jsx)("input",{id:"upload",className:"picker",type:"file",name:"file",accept:"image/png, image/jpg, image/jpeg, image/gif",multiple:!0,onChange:function(e){var t=e.target.files,n=e.target.files.length;n>30?(e.target.value="",r(void 0),d(0),j("ERROR","File count bigger than 30! Clearing input...")):(r(t),d(n),j("SUCCESS","Successfull selection! ".concat(n," file").concat(1!==n?"s":""," selected.")))}}),Object(b.jsxs)("p",{id:"fc",children:[o," file",1!==o?"s":""," selected"]})]}),Object(b.jsx)("div",{className:"apiKeyWrapper",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("p",{children:"API KEY"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"password",value:v,className:"apiKeyInput",name:"apikey",onChange:function(e){O(e.target.value)}}),Object(b.jsx)("button",{type:"button",className:"clearApiKeyInput",onClick:function(e){""!==v&&(O(""),j("SUCCESS","Cleared input!"))},children:"x"})]})]})}),Object(b.jsx)("div",{className:"sendWrapper",children:Object(b.jsx)("form",{children:Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"button",className:"sendButton",onClick:S,children:"Send"})})})}),Object(b.jsx)("div",{className:"resetApiKeyWrapper",children:Object(b.jsx)("form",{children:Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"button",className:"resetApiKeyButton",onClick:function(e){localStorage.clear(),j("SUCCESS","API KEY has been cleared!")},children:"Reset API KEY"})})})})]})]})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.06a1da46.chunk.js.map